# =============================================================================
# Calculus RAG Configuration
# =============================================================================
# Copy this file to .env: cp .env.example .env
# The default settings work out of the box with docker-compose.

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
ENVIRONMENT=development

# -----------------------------------------------------------------------------
# Embedding Model (for searching the knowledge base)
# -----------------------------------------------------------------------------
EMBEDDING_TYPE=ollama
EMBEDDING_MODEL_NAME=mxbai-embed-large
VECTOR_DIMENSION=1024

# -----------------------------------------------------------------------------
# Database (PostgreSQL + pgvector)
# -----------------------------------------------------------------------------
# These match the docker-compose.yml settings
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=calculus_rag
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# -----------------------------------------------------------------------------
# Local AI Models (via Ollama)
# -----------------------------------------------------------------------------
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=qwen2-math:7b
OLLAMA_REQUEST_TIMEOUT=120

# -----------------------------------------------------------------------------
# Cloud AI (via Ollama Cloud)
# -----------------------------------------------------------------------------
# Enable this to route complex questions (proofs, derivations) to
# DeepSeek R1 (671B parameters) running on Ollama's cloud servers.
#
# To set up:
# 1. Create account at https://ollama.com
# 2. Run: ollama login
# 3. Set CLOUD_LLM_ENABLED=true below

CLOUD_LLM_ENABLED=false
CLOUD_LLM_MODEL=deepseek-r1:671b

# -----------------------------------------------------------------------------
# Knowledge Base Chunking
# -----------------------------------------------------------------------------
KNOWLEDGE_BASE_PATH=./knowledge_content
CHUNK_SIZE=512
CHUNK_OVERLAP=50

# -----------------------------------------------------------------------------
# Other Settings
# -----------------------------------------------------------------------------
STUDENT_DB_PATH=./data/student.db
API_HOST=0.0.0.0
API_PORT=8000
LOG_LEVEL=INFO
